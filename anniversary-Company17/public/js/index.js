const vm=new Vue({el:"#Page",data:{TokenKey:"",phone:"",userNmae:"",year:"",days:"",type:"",urlConfig:"https://ei-gate.gcnao.cn/",bgImg:""},methods:{getUserInfo(){this.$http({url:this.urlConfig+"api/hr/hr/employee/query/cellphone/"+this.phone,method:"get",headers:{Authorization:this.TokenKey}}).then(function(e){console.log(e),this.userNmae=e.data.name;e=e.data.hiredate,e=new Date("2019/08/26").getTime()-new Date(e).getTime();this.year=Math.floor(e/31536e6),this.days=Math.floor(e%31536e6/864e5),15<this.year?(this.type="见证辉煌的开创元勋",this.bgImg="img/index-1.jpg"):9<this.year?(this.type="不忘初心的忠实老铁",this.bgImg="img/index.jpg"):4<this.year?(this.type="风雨同舟的硬核队友",this.bgImg="img/index.jpg"):(2<this.year?this.type="共担责任的至诚伙伴":this.type="活力满满的新锐力量",this.bgImg="img/index-2.jpg"),this.$refs.Page.style.background="url("+this.bgImg+") 100% 100% / cover no-repeat"},function(e){console.log("error"+e)})}},mounted:function(){this.TokenKey=localStorage.getItem("SET_TOKEN"),this.phone=localStorage.getItem("SET_USERNAME"),this.getUserInfo()}});