const vm=new Vue({el:"#Page",data:{urlConfig:"https://ei-gate.gcnao.cn/",isCap:!0,getCapWord:"获取验证码",loginForm:{bgUrl:"img/login.jpg",username:"",captchaId:"",captcha:""}},methods:{getCap(){var t;this.isCap&&(this.loginForm.username?/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.loginForm.username)?(t={cellphone:this.loginForm.username,captchaType:"PERSON_LOGIN"},this.$http({url:this.urlConfig+"api/admin/interfac/call/get-cap",method:"post",data:t}).then(function(t){console.log(t),this.loginForm.captchaId=t.data.result.id;const a=this;let e=60;const o=setInterval(()=>{this.isCap=!1;var t=e-1;0<e?(e=t,a.getCapWord="重新获取("+e+")"):(clearInterval(o),a.getCapWord="获取验证码",a.isCap=!0)},1e3)},function(t){alert("服务异常"),console.log("error"+t)})):alert("手机号码有误"):alert("请输入手机号码"))},handleLoginCap(){var t;this.loginForm.username?/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.loginForm.username)?this.loginForm.captcha?(t={body:{username:this.loginForm.username,accountType:"PERSONAL",captchaId:this.loginForm.captchaId,captcha:this.loginForm.captcha}},this.$http({url:this.urlConfig+"api/admin/interfac/call/phoneLogin",method:"post",data:t}).then(function(t){t=t.data;"SUCCESS"!==t.code?(console.log(t.message),alert(t.message)):(console.log(t.result),localStorage.setItem("SET_TOKEN",t.result),localStorage.setItem("SET_USERNAME",this.loginForm.username),window.location.href="index.html")},function(t){alert("服务异常"),console.log("error"+t)})):alert("请输入验证码"):alert("手机号码有误"):alert("请输入手机号码")}}});